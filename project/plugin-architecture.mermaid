graph LR
    subgraph "Alternative: Plugin-Based Architecture"
        direction LR
        
        subgraph "Core (@mockschema/core)"
            CORE[Core Engine]
            PLUGIN_API[Plugin API]
            CORE --> PLUGIN_API
        end
        
        subgraph "Plugins"
            direction TB
            P1[Schema Plugin<br/>- JSON Schema validation<br/>- $ref resolution]
            P2[Constraint Plugin<br/>- Business rules<br/>- Field relationships]
            P3[SQLite Plugin<br/>- State persistence<br/>- Query support]
            P4[Generator Plugin<br/>- Faker.js<br/>- Custom generators]
        end
        
        subgraph "Adapters"
            direction TB
            A1[Angular Adapter]
            A2[MSW Adapter]
            A3[Express Adapter]
        end
        
        PLUGIN_API --> P1
        PLUGIN_API --> P2
        PLUGIN_API --> P3
        PLUGIN_API --> P4
        
        CORE --> A1
        CORE --> A2
        CORE --> A3
        
        subgraph "Benefits"
            B1[✓ Modular - use only what you need]
            B2[✓ Extensible - easy to add features]
            B3[✓ Testable - isolated components]
            B4[✓ Small core - minimal bundle size]
        end
    end
    
    style CORE fill:#fff3e0
    style P1 fill:#e3f2fd
    style P2 fill:#f3e5f5
    style P3 fill:#fce4ec
    style P4 fill:#e8f5e9
    style A1 fill:#f1f8e9
    style A2 fill:#f1f8e9
    style A3 fill:#f1f8e9